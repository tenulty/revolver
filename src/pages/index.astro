---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";

function randomInteger(min: number, max: number) {
	min = Math.ceil(min);
	max = Math.floor(max);
	return Math.floor(Math.random() * (max - min + 1)) + min;
}

const subtitles = [
	"GreasyPanda123 was the first to join.",
	"Only 3 people play here long-term.",
	"I will bring you down baby. I will bring you down to China town.",
	"tenulty made this site! Thanks tenulty!<br>-tenulty",
	"Says who they can master Halo 2 LASO in under one year? That's impossible.",
	`Your actual IP address is <span style="color: black !important; background: black; text-shadow: none;">${Astro.clientAddress}</span>`,
	"Agartha is not a real place.",
	"Give your parrots some chocolate.",
	"Cool maybe?",
	'<span style="color: #fe00ff; text-shadow: 2.5px 2.5px 0px #3b0135;">APRIL FOOLS</span> from Revolver!',
	"Don't burn it!",
	"ðŸ˜¹ðŸ˜¹ðŸ˜¹",
	"Don't shoot yourself, or Ryouzu will shoot first.",
	"Ryouzu cannot ruin this surprise.",
	"You did not desert me, my brothers in arms.",
	"A Telltale Games lawsuit? No. It can't be.",
	'Quick! Before it expires!<br><a href="https://discord.gg/8KmaCmam"><u>discord.gg/8KmaCmam</u></a>',
	"GreasyPanda123 should change his profile picture.",
	"Who's this new guy KingGhany?",
	"Minecraft Realms is a real button. Let that sink in.",
	"Click that Multiplayer button faster than my dad beats me.",
	"It's statistically impossible for two players to have the same mods installed.",
	"It's statistically impossible to use Aternos happily.",
	"Listen, you f*ckers, you screwheads. Here is a man who would not take it anymore. A man who stood up against the scum, the cunts, the dogs, the filth, the shit. Here is a man who stood up! Here is...",
	"sigeon pex",
];
const chosenSubtitleHTML = subtitles[randomInteger(0, subtitles.length - 1)];

const responsiveSubtitleClasses =
	"lg:left-[50%] md:left-[35%] sm:left-[15%] sm:rotate-355 md:text-3xl sm:text-2xl left-10% sm:top-full sm:w-125 sm:leading-7 sm:pt-0 pt-4 leading-4 text-lg rotate-0 block w-full";

export const prerender = false;
---

<Layout>
	<main
		class="mx-auto h-screen overflow-x-hidden overflow-y-scroll bg-transparent px-9 py-9"
	>
		<div class="p-4"></div>

		<h1 class="hidden">Welcome to the Revolver Minecraft Server!</h1>

		<div class="relative">
			<Image
				id="logo"
				class="m-auto w-175 select-none"
				src="/media/minecraft-revolver-mode.webp"
				alt="Logo of Minecraft: Revolver Mode"
				height={576}
				width={2048}
				draggable={false}
				loading="eager"
			/>

			<div
				class={`animate-subtitle-pulse absolute text-center text-[#ffff00] text-shadow-[2.5px_2.5px_0px_#3f3f00] ${responsiveSubtitleClasses}`}
			>
				<span set:html={chosenSubtitleHTML} />
			</div>
		</div>

		<div
			class={chosenSubtitleHTML.length > 135 ? "p-12 sm:p-26" : "p-8 sm:p-14"}
		>
		</div>

		<div class="mx-auto h-fit w-fit">
			<a
				id="multiplayer"
				href="/multiplayer"
				aria-label="Multiplayer"
				class="block h-fit w-fit border-4 border-solid border-black outline-none select-none hover:border-white focus:border-white"
			>
				<span class="hidden">Multiplayer</span>

				<Image
					src="/media/multiplayer.webp"
					alt="Minecraft Multiplayer button"
					height={55}
					width={595}
					draggable={false}
					loading="eager"
					style="image-rendering: pixelated;"
				/>
			</a>

			<div class="p-1.5"></div>

			<div class="flex gap-2.5">
				<a
					id="mods"
					href="/mods"
					aria-label="Mods"
					class="block h-fit w-fit border-4 border-solid border-black outline-none select-none hover:border-white focus:border-white"
				>
					<span class="hidden">Mods</span>

					<Image
						src="/media/mods.webp"
						alt="Minecraft Mods button"
						height={55}
						width={289}
						draggable={false}
						loading="eager"
						style="image-rendering: pixelated;"
					/>
				</a>

				<a
					id="realms"
					href="/realms"
					aria-label="Realms"
					class="block h-fit w-fit border-4 border-solid border-black outline-none select-none hover:border-white focus:border-white"
				>
					<span class="hidden">Minecraft Realms</span>

					<Image
						src="/media/realms.webp"
						alt="Minecraft Realms button"
						height={55}
						width={289}
						draggable={false}
						loading="eager"
						style="image-rendering: pixelated;"
					/>
				</a>
			</div>
		</div>
	</main>
</Layout>

<script is:inline>
	(() => {
		const logo = document.getElementById("logo");

		if (!logo || !(logo instanceof HTMLImageElement)) {
			return;
		}

		logo.addEventListener("click", function () {
			logo.src = "/media/minceraft-revolver-mode.webp";
		});
	})();
</script>

<script is:inline>
	(() => {
		let isGlow = false;
		const modsGlowEffect = () => {};

		setInterval(modsGlowEffect, 1000);
	})();
</script>
